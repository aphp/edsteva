
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="assets/logo/edsteva_logo.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>EDS-TeVa</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="assets/termynal/termynal.css">
    
      <link rel="stylesheet" href="css/ansi-colours.css">
    
      <link rel="stylesheet" href="css/jupyter-cells.css">
    
      <link rel="stylesheet" href="css/pandas-dataframe.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
<p><strong>New features: </strong>
Check out the new <a class="autorefs autorefs-internal" href="components/model/#available-models"><strong>RectangleModel</strong></a> !</p>

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="EDS-TeVa" class="md-header__button md-logo" aria-label="EDS-TeVa" data-md-component="logo">
      
  <img src="assets/logo/edsteva_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EDS-TeVa
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aphp/edsteva" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    edsteva
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="EDS-TeVa" class="md-nav__button md-logo" aria-label="EDS-TeVa" data-md-component="logo">
      
  <img src="assets/logo/edsteva_logo.svg" alt="logo">

    </a>
    EDS-TeVa
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aphp/edsteva" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    edsteva
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-example-administrative-records-relative-to-visits" class="md-nav__link">
    Working example: administrative records relative to visits
  </a>
  
    <nav class="md-nav" aria-label="Working example: administrative records relative to visits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-load-your-data" class="md-nav__link">
    1. Load your data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-choose-a-probe-or-create-a-new-probe" class="md-nav__link">
    2. Choose a Probe or create a new Probe
  </a>
  
    <nav class="md-nav" aria-label="2. Choose a Probe or create a new Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-compute-your-probe" class="md-nav__link">
    2.1 Compute your Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-filter-your-probe" class="md-nav__link">
    2.2 Filter your Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-visualize-your-probe" class="md-nav__link">
    2.3 Visualize your Probe
  </a>
  
    <nav class="md-nav" aria-label="2.3 Visualize your Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-dashboard" class="md-nav__link">
    Interactive dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-plot" class="md-nav__link">
    Static plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-choose-a-model-or-create-a-new-model" class="md-nav__link">
    3. Choose a Model or create a new Model
  </a>
  
    <nav class="md-nav" aria-label="3. Choose a Model or create a new Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-fit-your-model" class="md-nav__link">
    3.1 Fit your Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-visualize-your-fitted-probe" class="md-nav__link">
    3.2 Visualize your fitted Probe
  </a>
  
    <nav class="md-nav" aria-label="3.2 Visualize your fitted Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-dashboard_1" class="md-nav__link">
    Interactive dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-plot_1" class="md-nav__link">
    Static plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-set-the-thresholds-to-fix-the-deployment-bias" class="md-nav__link">
    4. Set the thresholds to fix the deployment bias
  </a>
  
    <nav class="md-nav" aria-label="4. Set the thresholds to fix the deployment bias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-visualize-estimates-distributions" class="md-nav__link">
    4.1 Visualize estimates distributions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-set-the-thresholds" class="md-nav__link">
    4.2 Set the thresholds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-fix-the-deployment-bias" class="md-nav__link">
    4.3 Fix the deployment bias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-it-your-own" class="md-nav__link">
    Make it your own
  </a>
  
    <nav class="md-nav" aria-label="Make it your own">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-components" class="md-nav__link">
    Available components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="components/loading_data/" class="md-nav__link">
        Loading data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="components/probe/" class="md-nav__link">
        Probe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="components/model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="components/visualization/" class="md-nav__link">
        Visualization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Code Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/">edsteva</a>
          
            <label for="__nav_3_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="edsteva" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          edsteva
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2" type="checkbox" id="__nav_3_1_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/io/">io</a>
          
            <label for="__nav_3_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="io" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          io
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/files/" class="md-nav__link">
        files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/hive/" class="md-nav__link">
        hive
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/i2b2_mapping/" class="md-nav__link">
        i2b2_mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/postgres/" class="md-nav__link">
        postgres
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2_7" type="checkbox" id="__nav_3_1_2_7" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/io/synthetic/">synthetic</a>
          
            <label for="__nav_3_1_2_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="synthetic" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_2_7">
          <span class="md-nav__icon md-icon"></span>
          synthetic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/synthetic/care_site/" class="md-nav__link">
        care_site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/synthetic/synthetic/" class="md-nav__link">
        synthetic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/synthetic/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/io/synthetic/visit/" class="md-nav__link">
        visit
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_3" type="checkbox" id="__nav_3_1_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/metrics/">metrics</a>
          
            <label for="__nav_3_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="metrics" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_3">
          <span class="md-nav__icon md-icon"></span>
          metrics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/metrics/error/" class="md-nav__link">
        error
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/metrics/error_after_t0/" class="md-nav__link">
        error_after_t0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/metrics/error_between_t0_t1/" class="md-nav__link">
        error_between_t0_t1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4" type="checkbox" id="__nav_3_1_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/models/">models</a>
          
            <label for="__nav_3_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="models" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_4">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/models/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4_3" type="checkbox" id="__nav_3_1_4_3" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/models/rectangle_function/">rectangle_function</a>
          
            <label for="__nav_3_1_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="rectangle_function" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_4_3">
          <span class="md-nav__icon md-icon"></span>
          rectangle_function
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4_3_2" type="checkbox" id="__nav_3_1_4_3_2" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/models/rectangle_function/algos/">algos</a>
          
            <label for="__nav_3_1_4_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="algos" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          algos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/models/rectangle_function/algos/loss_minimization/" class="md-nav__link">
        loss_minimization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/models/rectangle_function/rectangle_function/" class="md-nav__link">
        rectangle_function
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4_4" type="checkbox" id="__nav_3_1_4_4" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/models/step_function/">step_function</a>
          
            <label for="__nav_3_1_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="step_function" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_4_4">
          <span class="md-nav__icon md-icon"></span>
          step_function
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4_4_2" type="checkbox" id="__nav_3_1_4_4_2" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/models/step_function/algos/">algos</a>
          
            <label for="__nav_3_1_4_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="algos" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_4_4_2">
          <span class="md-nav__icon md-icon"></span>
          algos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/models/step_function/algos/loss_minimization/" class="md-nav__link">
        loss_minimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/models/step_function/algos/quantile/" class="md-nav__link">
        quantile
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/models/step_function/step_function/" class="md-nav__link">
        step_function
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_5" type="checkbox" id="__nav_3_1_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/probes/">probes</a>
          
            <label for="__nav_3_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="probes" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_5">
          <span class="md-nav__icon md-icon"></span>
          probes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/probes/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/probes/note/" class="md-nav__link">
        note
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/probes/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/probes/visit/" class="md-nav__link">
        visit
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6" type="checkbox" id="__nav_3_1_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/utils/">utils</a>
          
            <label for="__nav_3_1_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_6">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/utils/checks/" class="md-nav__link">
        checks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/utils/framework/" class="md-nav__link">
        framework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/utils/loss_functions/" class="md-nav__link">
        loss_functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/utils/typing/" class="md-nav__link">
        typing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7" type="checkbox" id="__nav_3_1_7" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/viz/">viz</a>
          
            <label for="__nav_3_1_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="viz" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_7">
          <span class="md-nav__icon md-icon"></span>
          viz
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_2" type="checkbox" id="__nav_3_1_7_2" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/viz/dashboards/">dashboards</a>
          
            <label for="__nav_3_1_7_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="dashboards" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_2">
          <span class="md-nav__icon md-icon"></span>
          dashboards
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/dashboards/estimates_dashboard/" class="md-nav__link">
        estimates_dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_2_3" type="checkbox" id="__nav_3_1_7_2_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/viz/dashboards/predictor_dashboard/">predictor_dashboard</a>
          
            <label for="__nav_3_1_7_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="predictor_dashboard" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_7_2_3">
          <span class="md-nav__icon md-icon"></span>
          predictor_dashboard
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/dashboards/predictor_dashboard/fitted_probe/" class="md-nav__link">
        fitted_probe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/dashboards/predictor_dashboard/probe/" class="md-nav__link">
        probe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/dashboards/predictor_dashboard/wrapper/" class="md-nav__link">
        wrapper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_3" type="checkbox" id="__nav_3_1_7_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/viz/plots/">plots</a>
          
            <label for="__nav_3_1_7_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="plots" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_7_3">
          <span class="md-nav__icon md-icon"></span>
          plots
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/plots/estimates_densities/" class="md-nav__link">
        estimates_densities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/plots/normalized_probe/" class="md-nav__link">
        normalized_probe
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_7_3_4" type="checkbox" id="__nav_3_1_7_3_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/viz/plots/plot_probe/">plot_probe</a>
          
            <label for="__nav_3_1_7_3_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="plot_probe" data-md-level="5">
        <label class="md-nav__title" for="__nav_3_1_7_3_4">
          <span class="md-nav__icon md-icon"></span>
          plot_probe
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/plots/plot_probe/fitted_probe/" class="md-nav__link">
        fitted_probe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/plots/plot_probe/probe/" class="md-nav__link">
        probe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/plots/plot_probe/wrapper/" class="md-nav__link">
        wrapper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/viz/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-example-administrative-records-relative-to-visits" class="md-nav__link">
    Working example: administrative records relative to visits
  </a>
  
    <nav class="md-nav" aria-label="Working example: administrative records relative to visits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-load-your-data" class="md-nav__link">
    1. Load your data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-choose-a-probe-or-create-a-new-probe" class="md-nav__link">
    2. Choose a Probe or create a new Probe
  </a>
  
    <nav class="md-nav" aria-label="2. Choose a Probe or create a new Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-compute-your-probe" class="md-nav__link">
    2.1 Compute your Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-filter-your-probe" class="md-nav__link">
    2.2 Filter your Probe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-visualize-your-probe" class="md-nav__link">
    2.3 Visualize your Probe
  </a>
  
    <nav class="md-nav" aria-label="2.3 Visualize your Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-dashboard" class="md-nav__link">
    Interactive dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-plot" class="md-nav__link">
    Static plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-choose-a-model-or-create-a-new-model" class="md-nav__link">
    3. Choose a Model or create a new Model
  </a>
  
    <nav class="md-nav" aria-label="3. Choose a Model or create a new Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-fit-your-model" class="md-nav__link">
    3.1 Fit your Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-visualize-your-fitted-probe" class="md-nav__link">
    3.2 Visualize your fitted Probe
  </a>
  
    <nav class="md-nav" aria-label="3.2 Visualize your fitted Probe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-dashboard_1" class="md-nav__link">
    Interactive dashboard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-plot_1" class="md-nav__link">
    Static plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-set-the-thresholds-to-fix-the-deployment-bias" class="md-nav__link">
    4. Set the thresholds to fix the deployment bias
  </a>
  
    <nav class="md-nav" aria-label="4. Set the thresholds to fix the deployment bias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-visualize-estimates-distributions" class="md-nav__link">
    4.1 Visualize estimates distributions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-set-the-thresholds" class="md-nav__link">
    4.2 Set the thresholds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-fix-the-deployment-bias" class="md-nav__link">
    4.3 Fix the deployment bias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-it-your-own" class="md-nav__link">
    Make it your own
  </a>
  
    <nav class="md-nav" aria-label="Make it your own">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-components" class="md-nav__link">
    Available components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/aphp/edsteva/edit/main/docs/index.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<div class="admonition warning">
<p class="admonition-title">DISCLAIMER</p>
<p>EDS-TeVa is intended to be a module of <a href="https://github.com/aphp/EDS-Scikit">EDS-Scikit</a></p>
</div>
<p align="center">
  <a href="https://aphp.github.io/edsteva/latest/"><img src="https://aphp.github.io/edsteva/latest/assets/logo/edsteva_logo_small.svg" alt="EDS-TeVa"></a>
</p>
<p align="center" style="font-size:35px">
    EDS-TeVa
</p>
<p align="center">
<a href="https://aphp.github.io/edsteva/latest/" target="_blank">
    <img src="https://img.shields.io/github/workflow/status/aphp/edsteva/Tests%20and%20Linting?label=tests&style=flat" alt="Tests">
</a>
<a href="https://aphp.github.io/edsteva/latest/" target="_blank">
    <img src="https://img.shields.io/github/workflow/status/aphp/edsteva/Documentation?label=docs&style=flat" alt="Documentation">
</a>
<a href="https://pypi.org/project/edsteva/" target="_blank">
    <img src="https://img.shields.io/pypi/v/edsteva?color=blue&style=flat" alt="PyPI">
</a>
<a href="https://codecov.io/github/aphp/edsteva?branch=main" target="_blank">
    <img src="https://codecov.io/github/aphp/edsteva/coverage.svg?branch=main" alt="Codecov">
</a>
<a href="https://github.com/psf/black" target="_blank">
    <img src="https://img.shields.io/badge/code%20style-black-000000.svg" alt="Black">
</a>
<a href="https://python-poetry.org/" target="_blank">
    <img src="https://img.shields.io/badge/reproducibility-poetry-blue" alt="Poetry">
</a>
<a href="https://www.python.org/" target="_blank">
    <img src="https://img.shields.io/badge/python-~3.7.1-brightgreen" alt="Supported Python versions">
</a>
</p>

<hr />
<p><strong>Documentation</strong>: <a href="https://aphp.github.io/edsteva/latest/" target="_blank">https://aphp.github.io/edsteva/latest/</a></p>
<p><strong>Source Code</strong>: <a href="https://github.com/aphp/edsteva" target="_blank">https://github.com/aphp/edsteva</a></p>
<hr />
<h1 id="getting-started">Getting Started</h1>
<p>EDS-TeVa provides a set of tools to characterize the temporal variability of data induced by the dynamics of the clinical IT system.</p>
<h2 id="context">Context</h2>
<p>Real world data is subject to important temporal drifts that may be caused by a variety of factors<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>. In particular, data availability fluctuates with the deployment of clinical softwares and their clinical use. The dynamics of software deployment and adoption is not trivial as it depends on the care site and on the category of data that are considered.</p>
<h2 id="installation">Installation</h2>
<div class="admonition warning">
<p class="admonition-title">Requirements</p>
<p>EDS-TeVa stands on the shoulders of <a href="https://spark.apache.org/docs/2.4.8/index.html">Spark 2.4</a> which runs on <a href="https://www.oracle.com/java/technologies/java8.html">Java 8</a> and <a href="https://www.python.org/">Python</a> ~3.7.1, it is essential to:</p>
<ul>
<li>Install a version of Python <span class="arithmatex">\(\geq 3.7.1\)</span> and <span class="arithmatex">\(&lt; 3.8\)</span>.</li>
<li>
<p>Install <a href="https://openjdk.org/projects/jdk8/">OpenJDK 8</a>, an open-source reference implementation of Java 8 wit the following command lines:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Linux (Debian, Ubunutu, etc.)</label><label for="__tabbed_1_2">Mac</label><label for="__tabbed_1_3">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="termy">
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>sudo apt-get update
<span class="gp">$ </span>sudo apt-get install openjdk-8-jdk
<span class="go">---&gt; 100%</span>
</code></pre></div>
</div></p>
<p>For more details, check this <a href="https://www.geofis.org/en/install/install-on-linux/install-openjdk-8-on-ubuntu-trusty/">installation guide</a></p>
</div>
<div class="tabbed-block">
<p><div class="termy">
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>brew tap AdoptOpenJDK/openjdk
<span class="gp">$ </span>brew install --cask adoptopenjdk8
<span class="go">---&gt; 100%</span>
</code></pre></div>
</div></p>
<p>For more details, check this <a href="https://installvirtual.com/install-openjdk-8-on-mac-using-brew-adoptopenjdk/">installation guide</a></p>
</div>
<div class="tabbed-block">
<p>Follow this <a href="https://techoral.com/blog/java/openjdk-install-windows.html">installation guide</a></p>
</div>
</div>
</div>
</li>
</ul>
</div>
<p>You can install EDS-TeVa through <code>pip</code>:</p>
<div class="termy">

<div class="highlight"><pre><span></span><code><span class="gp">$ </span>pip install edsteva
<span class="go">---&gt; 100%</span>
<span class="go">color:green Successfully installed edsteva</span>
</code></pre></div>

</div>

<p>We recommend pinning the library version in your projects, or use a strict package manager like <a href="https://python-poetry.org/">Poetry</a>.</p>
<div class="highlight"><pre><span></span><code>pip install edsteva==0.1.0
</code></pre></div>
<h2 id="working-example-administrative-records-relative-to-visits">Working example: administrative records relative to visits</h2>
<p>Let's consider a basic category of data: administrative records relative to visits. Visits are characterized by a stay type (full hospitalisation, emergency, consultation, etc.). In this example, the objective is to estimate the availability of visits records with respect to time, care site and stay type.</p>
<h3 id="1-load-your-data">1. Load your <a class="autorefs autorefs-internal" href="components/loading_data/#loading-data">data</a></h3>
<p>As detailled in <a class="autorefs autorefs-internal" href="components/loading_data/#loading-data">the dedicated section</a>, EDS-TeVa is expecting to work with <a href="https://pandas.pydata.org/">Pandas</a> or <a href="https://koalas.readthedocs.io/en/latest/">Koalas</a> DataFrames.  We provide various connectors to facilitate data fetching, namely a <a class="autorefs autorefs-internal" href="components/loading_data/#loading-from-hive-hivedata">Hive</a> connector, a <a class="autorefs autorefs-internal" href="components/loading_data/#loading-from-postgres-postgresdata">Postgres</a> connector and a <a class="autorefs autorefs-internal" href="components/loading_data/#persistingreading-a-sample-tofrom-disk-localdata">LocalData</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Using a Hive DataBase</label><label for="__tabbed_2_2">Using a Postgres DataBase</label><label for="__tabbed_2_3">Using a Local DataBase</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.io</span> <span class="kn">import</span> <span class="n">HiveData</span>

<span class="n">db_name</span> <span class="o">=</span> <span class="s2">&quot;my_db&quot;</span>
<span class="n">tables_to_load</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;visit_occurrence&quot;</span><span class="p">,</span>
    <span class="s2">&quot;visit_detail&quot;</span><span class="p">,</span>
    <span class="s2">&quot;care_site&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fact_relationship&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">HiveData</span><span class="p">(</span><span class="n">db_name</span><span class="p">,</span> <span class="n">tables_to_load</span><span class="o">=</span><span class="n">tables_to_load</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">visit_occurrence</span>  <span class="c1"># (1)</span>
</code></pre></div>
<ol>
<li>With this connector, <code>visit_occurrence</code> will be a <em>Koalas</em> DataFrame</li>
</ol>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.io</span> <span class="kn">import</span> <span class="n">PostgresData</span>

<span class="n">db_name</span> <span class="o">=</span> <span class="s2">&quot;my_db&quot;</span>
<span class="n">schema</span> <span class="o">=</span> <span class="s2">&quot;my_schema&quot;</span>
<span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;my_username&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">PostgresData</span><span class="p">(</span><span class="n">db_name</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="n">data</span><span class="o">.</span><span class="n">visit_occurrence</span>  <span class="c1"># (2)</span>
</code></pre></div>
<ol>
<li>This connector expects a <code>.pgpass</code> file storing the connection parameters</li>
<li>With this connector, <code>visit_occurrence</code> will be a <em>Pandas</em> DataFrame</li>
</ol>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">edsteva.io</span> <span class="kn">import</span> <span class="n">LocalData</span>

<span class="n">folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">MY_FOLDER_PATH</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">LocalData</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="n">data</span><span class="o">.</span><span class="n">visit_occurrence</span>  <span class="c1"># (2)</span>
</code></pre></div>
<ol>
<li>This connector expects a <code>folder</code> with a file per table to load.</li>
<li>With this connector, <code>visit_occurrence</code> will be a <em>Pandas</em> DataFrame</li>
</ol>
</div>
</div>
</div>
<h3 id="2-choose-a-probe-or-create-a-new-probe">2. Choose a <a class="autorefs autorefs-internal" href="components/probe/#probe">Probe</a> or <a class="autorefs autorefs-internal" href="components/probe/#defining-a-custom-probe">create a new Probe</a></h3>
<div class="admonition info">
<p class="admonition-title">Probe</p>
<p>A <a class="autorefs autorefs-internal" href="components/probe/#probe">Probe</a> is a python class designed to compute a completeness predictor <span class="arithmatex">\(c(t)\)</span> that characterizes data availability of a target variable over time <span class="arithmatex">\(t\)</span>.</p>
</div>
<p>In this example, <span class="arithmatex">\(c(t)\)</span> predicts the availability of administrative records relative to visits. It is defined for each care site and stay type as the number of visits <span class="arithmatex">\(n_{visit}(t)\)</span> per month <span class="arithmatex">\(t\)</span>, normalized by the <span class="arithmatex">\(99^{th}\)</span> percentile of visits <span class="arithmatex">\(n_{99}\)</span> computed over the entire study period:</p>
<div class="arithmatex">\[
c(t) = \frac{n_{visit}(t)}{n_{99}}
\]</div>
<div class="admonition info">
<p>If the <span class="arithmatex">\(99^{th}\)</span> percentile of visits <span class="arithmatex">\(n_{99}\)</span> is equal to 0, we consider that the completeness predictor <span class="arithmatex">\(c(t)\)</span> is also equal to 0.</p>
</div>
<p>The <a class="autorefs autorefs-internal" href="components/probe/#available-probes">VisitProbe</a> is already available by default in the library:</p>
<h4 id="21-compute-your-probe">2.1 Compute your Probe</h4>
<p>The <a class="autorefs autorefs-internal" href="reference/probes/base/#edsteva.probes.base.BaseProbe.compute"><code>compute()</code></a> method takes a <a class="autorefs autorefs-internal" href="components/loading_data/#loading-data">Data</a> object as input and stores the computed completeness predictor <span class="arithmatex">\(c(t)\)</span> in the <a class="autorefs autorefs-internal" href="components/probe/#predictor-schema"><code>predictor</code></a> attribute of a <a class="autorefs autorefs-internal" href="components/probe/#probe"><code>Probe</code></a>:</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.probes</span> <span class="kn">import</span> <span class="n">VisitProbe</span>

<span class="n">probe_path</span> <span class="o">=</span> <span class="s2">&quot;my_path/visit.pkl&quot;</span>

<span class="n">visit</span> <span class="o">=</span> <span class="n">VisitProbe</span><span class="p">()</span>
<span class="n">visit</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">stay_types</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;All&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Urg_Hospit&quot;</span><span class="p">:</span> <span class="s2">&quot;urgence|hospitaliss&quot;</span><span class="p">,</span>  <span class="c1"># (1)</span>
    <span class="p">},</span>
    <span class="n">care_site_levels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Hospital&quot;</span><span class="p">,</span> <span class="s2">&quot;Pole&quot;</span><span class="p">,</span> <span class="s2">&quot;UF&quot;</span><span class="p">],</span>  <span class="c1"># (2)</span>
<span class="p">)</span>
<span class="n">visit</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">probe_path</span><span class="p">)</span>  <span class="c1"># (3)</span>
<span class="n">visit</span><span class="o">.</span><span class="n">predictor</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
1. The stay_types argument expects a python dictionary with labels as keys and regex as values.
2. The care sites are articulated into levels (cf. <a href="https://doc-new.eds.aphp.fr/donnees_dispo/donnees_par_domaine/R%C3%A9f%C3%A9rentielsStructures">AP-HP's reference structure</a>).
3. Saving the Probe after computation saves you from having to compute it again. You just use <code>VisitProbe.load(path=probe_path)</code>.</p>
<p><code>Saved to /my_path/visit.pkl</code></p>
<table>
<thead>
<tr>
<th align="left">care_site_level</th>
<th align="left">care_site_id</th>
<th align="left">care_site_short_name</th>
<th align="left">stay_type</th>
<th align="left">date</th>
<th align="left">n_visit</th>
<th align="left">c</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">Care site 1</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2019-05-01</td>
<td align="left">233.0</td>
<td align="left">0.841</td>
</tr>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">Care site 1</td>
<td align="left">'All'</td>
<td align="left">2021-04-01</td>
<td align="left">393.0</td>
<td align="left">0.640</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">Care site 2</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2011-03-01</td>
<td align="left">204.0</td>
<td align="left">0.497</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">Care site 2</td>
<td align="left">'All'</td>
<td align="left">2018-08-01</td>
<td align="left">22.0</td>
<td align="left">0.274</td>
</tr>
<tr>
<td align="left">Hpital</td>
<td align="left">8312022130</td>
<td align="left">Care site 3</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2022-02-01</td>
<td align="left">9746.0</td>
<td align="left">0.769</td>
</tr>
</tbody>
</table>
<h4 id="22-filter-your-probe">2.2 Filter your Probe</h4>
<p>In this example, we consider the poles of three hospitals over the period from 2009 to 2021. We consequently filter data before any further analysis.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.probes</span> <span class="kn">import</span> <span class="n">VisitProbe</span>

<span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;2009-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-01-01&quot;</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="n">care_site_short_name</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;HOSPITAL 1&quot;</span><span class="p">,</span> <span class="s2">&quot;HOSPITAL 2&quot;</span><span class="p">,</span> <span class="s2">&quot;HOSPITAL 3&quot;</span><span class="p">]</span>

<span class="n">bct_visit</span> <span class="o">=</span> <span class="n">VisitProbe</span><span class="p">()</span>
<span class="n">bct_visit</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="n">bct_visit</span><span class="o">.</span><span class="n">predictor</span> <span class="o">=</span> <span class="n">bct_visit</span><span class="o">.</span><span class="n">predictor</span><span class="p">[</span>  <span class="c1"># (2)</span>
    <span class="p">(</span><span class="n">bct_visit</span><span class="o">.</span><span class="n">predictor</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">start_date</span><span class="p">)</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">bct_visit</span><span class="o">.</span><span class="n">predictor</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">bct_visit</span><span class="o">.</span><span class="n">filter_care_site</span><span class="p">(</span><span class="n">care_site_short_names</span><span class="o">=</span><span class="n">care_site_short_name</span><span class="p">)</span>  <span class="c1"># (3)</span>
</code></pre></div>
<ol>
<li>This is the study period considered in the example.</li>
<li><code>bct_visit.predictor</code> is a <code>Pandas.DataFrame</code>, you can use Pandas'API to filter the Probe.</li>
<li>To filter care sites there is a dedicated method that also includes all upper and lower levels care sites related to the selected care sites.</li>
</ol>
<h4 id="23-visualize-your-probe">2.3 Visualize your Probe</h4>
<h5 id="interactive-dashboard">Interactive dashboard</h5>
<p>Interactive dashboards can be used to visualize the average completeness predictor <span class="arithmatex">\(c(t)\)</span> of the selected care sites and stay types.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.dashboards</span> <span class="kn">import</span> <span class="n">predictor_dashboard</span>

<span class="n">predictor_dashboard</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">bct_visit</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="s2">&quot;Pole&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
Interactive dashboard is available <a href="assets/charts/interactive_visit.html">here</a></p>
<h5 id="static-plot">Static plot</h5>
<p>If you need a static plot for a report, a paper or anything else, you can use the <a class="autorefs autorefs-internal" href="reference/viz/plots/plot_probe/wrapper/#edsteva.viz.plots.plot_probe.wrapper"><code>plot_probe()</code></a> function. It returns the top plot of the dashboard without the interactive filters. Consequently, you have to specify the filters in the inputs of the function.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.plots</span> <span class="kn">import</span> <span class="n">plot_probe</span>

<span class="n">plot_path</span> <span class="o">=</span> <span class="s2">&quot;my_path/visit.html&quot;</span>
<span class="n">stay_type</span> <span class="o">=</span> <span class="s2">&quot;All&quot;</span>

<span class="n">plot_probe</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">bct_visit</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="s2">&quot;Hospital&quot;</span><span class="p">,</span>
    <span class="n">stay_type</span><span class="o">=</span><span class="n">stay_type</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><span class="n">plot_path</span><span class="p">,</span>  <span class="c1"># (1)</span>
<span class="p">)</span>
</code></pre></div>
<ol>
<li>If a <code>save_path</code> is specified, it'll save your plot in the specified path.</li>
</ol>
<p><vegachart style='width: 100%'  class="vegalite">{
  "schema-url": "assets/charts/visit.json"
}</vegachart></p>
<h3 id="3-choose-a-model-or-create-a-new-model">3. Choose a <a class="autorefs autorefs-internal" href="components/model/#available-models">Model</a> or <a class="autorefs autorefs-internal" href="components/model/#defining-a-custom-model">create a new Model</a></h3>
<div class="admonition info">
<p class="admonition-title"><a class="autorefs autorefs-internal" href="components/model/#model">Model</a></p>
<p>A <a class="autorefs autorefs-internal" href="components/model/#model">Model</a> is a python class designed to fit a function <span class="arithmatex">\(f_\Theta(t)\)</span> to each completeness predictor <span class="arithmatex">\(c(t)\)</span> of a <a class="autorefs autorefs-internal" href="components/probe/#probe">Probe</a>. The fit process estimates the coefficients <span class="arithmatex">\(\Theta\)</span> with metrics to characterize the temporal variability of data availability.</p>
</div>
<p>In this example, the model fits a step function <span class="arithmatex">\(f_{t_0, c_0}(t)\)</span> to the completeness predictor <span class="arithmatex">\(c(t)\)</span> with coefficients <span class="arithmatex">\(\Theta = (t_0, c_0)\)</span>:</p>
<div class="arithmatex">\[
f_{t_0, c_0}(t) = c_0 \ \mathbb{1}_{t \geq t_0}(t)
\]</div>
<ul>
<li>the characteristic time <span class="arithmatex">\(t_0\)</span> estimates the time after which the data is available.</li>
<li>the characteristic value <span class="arithmatex">\(c_0\)</span> estimates the stabilized routine completeness.</li>
</ul>
<p>It also computes the following <span class="arithmatex">\(error\)</span> metric that estimates the stability of the data after <span class="arithmatex">\(t_0\)</span>:</p>
<div class="arithmatex">\[
\begin{aligned}
error &amp; = \frac{\sum_{t_0 \leq  t \leq t_{max}} \epsilon(t)^2}{t_{max} - t_0} \\
\epsilon(t) &amp; = f_{t_0, c_0}(t) - c(t)
\end{aligned}
\]</div>
<p>This <a class="autorefs autorefs-internal" href="components/model/#available-models">step function Model</a> is available in the library.</p>
<h4 id="31-fit-your-model">3.1 Fit your <a href="components/model">Model</a></h4>
<p>The <code>fit</code> method takes a <a class="autorefs autorefs-internal" href="components/probe/#probe">Probe</a> as input, it estimates the coefficients, for example by minimizing a quadratic loss function and computes the metrics. Finally, it stores the estimated coefficients and the computed metrics in the <a class="autorefs autorefs-internal" href="components/model/#estimates-schema"><code>estimates</code></a> attribute of the <code>Model</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.models.step_function</span> <span class="kn">import</span> <span class="n">StepFunction</span>

<span class="n">model_path</span> <span class="o">=</span> <span class="s2">&quot;my_path/fitted_visit.pkl&quot;</span>

<span class="n">step_function_model</span> <span class="o">=</span> <span class="n">StepFunction</span><span class="p">()</span>
<span class="n">step_function_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">probe</span><span class="o">=</span><span class="n">bct_visit</span><span class="p">)</span>
<span class="n">step_function_model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="n">step_function_model</span><span class="o">.</span><span class="n">estimates</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Saving the Model after fitting saves you from having to fit it again. You just use <code>StepFunction.load(path=model_path)</code>.</li>
</ol>
<p><code>Saved to /my_path/fitted_visit.pkl</code></p>
<table>
<thead>
<tr>
<th align="left">care_site_level</th>
<th align="left">care_site_id</th>
<th align="left">stay_type</th>
<th align="left">t_0</th>
<th align="left">c_0</th>
<th align="left">error</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2019-05-01</td>
<td align="left">0.397</td>
<td align="left">0.040</td>
</tr>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">'All'</td>
<td align="left">2011-04-01</td>
<td align="left">0.583</td>
<td align="left">0.028</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2021-03-01</td>
<td align="left">0.677</td>
<td align="left">0.022</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">'All'</td>
<td align="left">2018-08-01</td>
<td align="left">0.764</td>
<td align="left">0.014</td>
</tr>
<tr>
<td align="left">Hpital</td>
<td align="left">8312022130</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2022-02-01</td>
<td align="left">0.652</td>
<td align="left">0.027</td>
</tr>
</tbody>
</table>
<h4 id="32-visualize-your-fitted-probe">3.2 Visualize your fitted Probe</h4>
<h5 id="interactive-dashboard_1">Interactive dashboard</h5>
<p>Interactive dashboards can be used to visualize the average completeness predictor <span class="arithmatex">\(c(t)\)</span> along with the fitted step function of the selected care sites and stay types.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.dashboards</span> <span class="kn">import</span> <span class="n">predictor_dashboard</span>

<span class="n">predictor_dashboard</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">bct_visit</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="s2">&quot;Pole&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
Interactive dashboard is available <a href="assets/charts/interactive_fitted_visit.html">here</a>.</p>
<h5 id="static-plot_1">Static plot</h5>
<p>If you need a static plot for a report, a paper or anything else, you can use the <a class="autorefs autorefs-internal" href="reference/viz/plots/plot_probe/wrapper/#edsteva.viz.plots.plot_probe.wrapper"><code>plot_probe()</code></a> function. It returns the top plot of the dashboard without the interactive filters. Consequently, you have to specify the filters in the inputs of the function.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.plots</span> <span class="kn">import</span> <span class="n">plot_probe</span>

<span class="n">plot_path</span> <span class="o">=</span> <span class="s2">&quot;my_path/fitted_visit.html&quot;</span>
<span class="n">stay_type</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;All&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">}</span>

<span class="n">plot_probe</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">bct_visit</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="s2">&quot;Hospital&quot;</span><span class="p">,</span>
    <span class="n">stay_type</span><span class="o">=</span><span class="n">stay_type</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><span class="n">plot_path</span><span class="p">,</span>  <span class="c1"># (1)</span>
<span class="p">)</span>
</code></pre></div>
1. If a <code>save_path</code> is specified, it'll save your plot in the specified path.</p>
<p><vegachart style='width: 100%'  class="vegalite">{
  "schema-url": "assets/charts/fitted_visit.json"
}</vegachart></p>
<h3 id="4-set-the-thresholds-to-fix-the-deployment-bias">4. Set the thresholds to fix the deployment bias</h3>
<p>Now, that we have estimated <span class="arithmatex">\(t_0\)</span>, <span class="arithmatex">\(c_0\)</span> and <span class="arithmatex">\(error\)</span> for each care site and each stay type, one can set a threshold for each estimate in order to select only the care sites where the visits are available over the period of interest.</p>
<h4 id="41-visualize-estimates-distributions">4.1 Visualize estimates distributions</h4>
<p>Visualizing the density plots and the medians of the estimates can help you setting the thresholds' values.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz</span> <span class="kn">import</span> <span class="n">plot_estimates_densities</span>

<span class="n">plot_estimates_densities</span><span class="p">(</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<vegachart style='width: 100%'  class="vegalite">{
  "schema-url": "assets/charts/distributions.json"
}</vegachart></p>
<h4 id="42-set-the-thresholds">4.2 Set the thresholds</h4>
<p>The estimates dashboard provides a representation of the overall deviation from the Model on the top and interactive sliders on the bottom that allows you to vary the thresholds. The idea is to set the thresholds that keep the most care sites while having an acceptable overall deviation.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.dashboards</span> <span class="kn">import</span> <span class="n">estimates_dashboard</span>

<span class="n">estimates_dashboard</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">bct_visit</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="s2">&quot;Pole&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>The threshold dashboard is available <a href="assets/charts/threshold_dashboard.html">here</a>.</p>
<h4 id="43-fix-the-deployment-bias">4.3 Fix the deployment bias</h4>
<p>Once you set the thresholds, you can extract for each stay type the care sites for which data availability is estimated to be stable over the entire study period.</p>
<div class="highlight"><pre><span></span><code><span class="n">t_0_max</span> <span class="o">=</span> <span class="s2">&quot;2009-01-01&quot;</span>  <span class="c1"># (1)</span>
<span class="n">c_0_min</span> <span class="o">=</span> <span class="mf">0.63</span>  <span class="c1"># (2)</span>
<span class="n">error_max</span> <span class="o">=</span> <span class="mf">0.03</span>  <span class="c1"># (3)</span>

<span class="n">estimates</span> <span class="o">=</span> <span class="n">step_function_model</span><span class="o">.</span><span class="n">estimates</span>
<span class="n">selected_care_site</span> <span class="o">=</span> <span class="n">estimates</span><span class="p">[</span>
    <span class="p">(</span><span class="n">estimates</span><span class="p">[</span><span class="s2">&quot;t_0&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">t_0_max</span><span class="p">)</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">estimates</span><span class="p">[</span><span class="s2">&quot;c_0&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">c_0_min</span><span class="p">)</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">estimates</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">error_max</span><span class="p">)</span>
<span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">selected_care_site</span><span class="p">[</span><span class="s2">&quot;care_site_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</code></pre></div>
<ol>
<li>In this example the study period starts on January 1, 2009.</li>
<li>The characteristic value <span class="arithmatex">\(c_0\)</span> estimates the stabilized routine completeness. As we want the selected care sites to have a good completeness after <span class="arithmatex">\(t_0\)</span>, one can for example set the threshold around the median (cf. <a class="autorefs autorefs-internal" href="#41-visualize-estimates-distributions">distribution</a>) to keep half of the care sites with the highest completeness after <span class="arithmatex">\(t_0\)</span>.</li>
<li><span class="arithmatex">\(error\)</span> estimates the stability of the data after <span class="arithmatex">\(t_0\)</span>. As we want the selected care sites to be stable after <span class="arithmatex">\(t_0\)</span>, one can set the threshold around the median (cf. <a class="autorefs autorefs-internal" href="#41-visualize-estimates-distributions">distribution</a>) to keep half of the care sites with the lowest error after <span class="arithmatex">\(t_0\)</span>.</li>
</ol>
<div class="highlight"><pre><span></span><code>[8312056386, 8457691845, 8745619784, 8314578956, 8314548764, 8542137845]
</code></pre></div>
<p>In this example, <span class="arithmatex">\(c_0\)</span> and <span class="arithmatex">\(error\)</span> thresholds have been set around the median (cf. <a class="autorefs autorefs-internal" href="#41-visualize-estimates-distributions">distribution</a>). However, this method is arbitrary and you have to find the appropriate method for your study with the help of the <a class="autorefs autorefs-internal" href="#42-set-the-thresholds">estimate dashboard</a>.</p>
<div class="admonition danger">
<p class="admonition-title">Limitations</p>
<p>EDS-TeVa provides modelling tools to characterize the temporal variability of your data, it does not intend to provide direct methods to fix the deployment bias. As an open-source library, EDS-TeVa is also here to host a discussion in order to facilitate collective methodological convergence on flexible solutions. The default methods proposed in this example is intended to be reviewed and challenged by the user community.</p>
</div>
<h2 id="make-it-your-own">Make it your own</h2>
<p>The working example above describes the canonical usage workflow. However, you would probably need different Probes, Models, Visualizations and methods to set the thresholds for your projects. The components already available in the library are listed below but if it doesn't meet your requirements, you are encouraged to create your own.</p>
<div class="admonition success">
<p class="admonition-title">Contribution</p>
<p>If you managed to implement your own component, or even if you just thought about a new component do not hesitate to share it with the community by following the <a class="autorefs autorefs-internal" href="contributing/#contributing">contribution guidelines</a>. Contributions are welcome, and they are greatly appreciated! Every little bit helps, and credit will always be given.</p>
</div>
<h3 id="available-components">Available components</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Probe</label><label for="__tabbed_3_2">Model</label><label for="__tabbed_3_3">Visualization</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">VisitProbe</label><label for="__tabbed_4_2">NoteProbe</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/probes/visit/#edsteva.probes.visit.VisitProbe"><code>VisitProbe</code></a> computes <span class="arithmatex">\(c_{visit}(t)\)</span> the availability of administrative data related to visits for each care site and each stay type according to time:</p>
<div class="arithmatex">\[
c_{visit}(t) = \frac{n_{visit}(t)}{n_{99}}
\]</div>
<p>Where <span class="arithmatex">\(n_{visit}(t)\)</span> is the number of visits, <span class="arithmatex">\(n_{99}\)</span> is the <span class="arithmatex">\(99^{th}\)</span> percentile of visits and <span class="arithmatex">\(t\)</span> is the month.</p>
<div class="admonition info">
<p>If the <span class="arithmatex">\(99^{th}\)</span> percentile of visits <span class="arithmatex">\(n_{99}\)</span> is equal to 0, we consider that the completeness predictor <span class="arithmatex">\(c(t)\)</span> is also equal to 0.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.probes</span> <span class="kn">import</span> <span class="n">VisitProbe</span>

<span class="n">visit</span> <span class="o">=</span> <span class="n">VisitProbe</span><span class="p">()</span>
<span class="n">visit</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">stay_types</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;All&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Urg&quot;</span><span class="p">:</span> <span class="s2">&quot;urgence&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Hospit&quot;</span><span class="p">:</span> <span class="s2">&quot;hospitaliss&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Urg_Hospit&quot;</span><span class="p">:</span> <span class="s2">&quot;urgence|hospitaliss&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="n">visit</span><span class="o">.</span><span class="n">predictor</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">care_site_level</th>
<th align="left">care_site_id</th>
<th align="left">care_site_short_name</th>
<th align="left">stay_type</th>
<th align="left">date</th>
<th align="left">n_visit</th>
<th align="left">c</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">Care site 1</td>
<td align="left">'Urg'</td>
<td align="left">2019-05-01</td>
<td align="left">233.0</td>
<td align="left">0.841</td>
</tr>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">Care site 1</td>
<td align="left">'All'</td>
<td align="left">2021-04-01</td>
<td align="left">393.0</td>
<td align="left">0.640</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">Care site 2</td>
<td align="left">'Hospit'</td>
<td align="left">2011-03-01</td>
<td align="left">204.0</td>
<td align="left">0.497</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">Care site 2</td>
<td align="left">'All'</td>
<td align="left">2018-08-01</td>
<td align="left">22.0</td>
<td align="left">0.274</td>
</tr>
<tr>
<td align="left">Hpital</td>
<td align="left">8312022130</td>
<td align="left">Care site 3</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">2022-02-01</td>
<td align="left">9746.0</td>
<td align="left">0.769</td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/probes/note/#edsteva.probes.note.NoteProbe"><code>NoteProbe</code></a> computes <span class="arithmatex">\(c_{note}(t)\)</span> the availability of clinical documents linked to patients' visits for each care site, stay type and note type according to time:</p>
<div class="arithmatex">\[
c_{note}(t) = \frac{n_{with\,doc}(t)}{n_{visit}(t)}
\]</div>
<p>Where <span class="arithmatex">\(n_{visit}(t)\)</span> is the number of visits, <span class="arithmatex">\(n_{with\,doc}\)</span> the number of visits having at least one document and <span class="arithmatex">\(t\)</span> is the month.</p>
<div class="admonition info">
<p>If the number of visits <span class="arithmatex">\(n_{visit}(t)\)</span> is equal to 0, we consider that the completeness predictor <span class="arithmatex">\(c(t)\)</span> is also equal to 0.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.probes</span> <span class="kn">import</span> <span class="n">NoteProbe</span>

<span class="n">note</span> <span class="o">=</span> <span class="n">Note</span><span class="p">()</span>
<span class="n">note</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">stay_types</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;All&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Urg&quot;</span><span class="p">:</span> <span class="s2">&quot;urgence&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Hospit&quot;</span><span class="p">:</span> <span class="s2">&quot;hospitaliss&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Urg_Hospit&quot;</span><span class="p">:</span> <span class="s2">&quot;urgence|hospitaliss&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">note_types</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;All&quot;</span><span class="p">:</span> <span class="s2">&quot;.*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CRH&quot;</span><span class="p">:</span> <span class="s2">&quot;crh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Ordonnance&quot;</span><span class="p">:</span> <span class="s2">&quot;ordo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CR Passage Urgences&quot;</span><span class="p">:</span> <span class="s2">&quot;urge&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="n">note</span><span class="o">.</span><span class="n">predictor</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">care_site_level</th>
<th align="left">care_site_id</th>
<th align="left">care_site_short_name</th>
<th align="left">stay_type</th>
<th align="left">note_type</th>
<th align="left">date</th>
<th align="left">n_visit</th>
<th align="left">c</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">Care site 1</td>
<td align="left">'Urg'</td>
<td align="left">'All'</td>
<td align="left">2019-05-01</td>
<td align="left">233.0</td>
<td align="left">'0.841</td>
</tr>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8653815660</td>
<td align="left">Care site 1</td>
<td align="left">'All'</td>
<td align="left">'CRH'</td>
<td align="left">2011-04-01</td>
<td align="left">393.0</td>
<td align="left">0.640</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">Care site 2</td>
<td align="left">'Hospit'</td>
<td align="left">'CRH'</td>
<td align="left">2021-03-01</td>
<td align="left">204.0</td>
<td align="left">0.497</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312056379</td>
<td align="left">Care site 2</td>
<td align="left">'All'</td>
<td align="left">'Ordonnance'</td>
<td align="left">2018-08-01</td>
<td align="left">22.0</td>
<td align="left">0.274</td>
</tr>
<tr>
<td align="left">Hpital</td>
<td align="left">8312022130</td>
<td align="left">Care site 3</td>
<td align="left">'Urg_Hospit'</td>
<td align="left">'CR Passage Urgences'</td>
<td align="left">2022-02-01</td>
<td align="left">9746.0</td>
<td align="left">0.769</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">StepFunction</label><label for="__tabbed_5_2">RectangleFunction</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="6:4"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><input id="__tabbed_6_4" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Coefficients</label><label for="__tabbed_6_2">Metrics</label><label for="__tabbed_6_3">Algos</label><label for="__tabbed_6_4">Example</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/models/step_function/step_function/#edsteva.models.step_function.step_function.StepFunction"><code>StepFunction</code></a> fits a step function <span class="arithmatex">\(f_{t_0, c_0}(t)\)</span> with coefficients <span class="arithmatex">\(\Theta = (t_0, c_0)\)</span> on a completeness predictor <span class="arithmatex">\(c(t)\)</span>:</p>
<div class="arithmatex">\[
\begin{aligned}
f_{t_0, c_0}(t) &amp; = c_0 \ \mathbb{1}_{t \geq t_0}(t) \\
c(t) &amp; = f_{t_0, c_0}(t) + \epsilon(t)
\end{aligned}
\]</div>
<ul>
<li>the characteristic time <span class="arithmatex">\(t_0\)</span> estimates the time after which the data is available.</li>
<li>the characteristic value <span class="arithmatex">\(c_0\)</span> estimates the stabilized routine completeness.</li>
</ul>
</div>
<div class="tabbed-block">
<p>The default metric computed is the mean squared error after <span class="arithmatex">\(t_0\)</span>:</p>
<div class="arithmatex">\[
error = \frac{\sum_{t_0 \leq  t \leq t_{max}} \epsilon(t)^2}{t_{max} - t_0}
\]</div>
<ul>
<li><span class="arithmatex">\(error\)</span> estimates the stability of the data after <span class="arithmatex">\(t_0\)</span>.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Custom metric<p>You can define your own metric if this one doesn't meet your requirements.</p>
</p>
</div>
</div>
<div class="tabbed-block">
<p>The available algorithms used to fit the step function are listed below:</p>
<div class="admonition info">
<p class="admonition-title">Custom algo<p>You can define your own algorithm if they don't meet your requirements.</p>
</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Loss minimization</label><label for="__tabbed_7_2">Quantile</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This algorithm computes the estimated coefficients <span class="arithmatex">\(\hat{t_0}\)</span> and <span class="arithmatex">\(\hat{c_0}\)</span> by minimizing the loss function <span class="arithmatex">\(\mathcal{L}(t_0, c_0)\)</span>:</p>
<div class="arithmatex">\[
\begin{aligned}
\mathcal{L}(t_0, c_0) &amp; = \frac{\sum_{t = t_{min}}^{t_{max}} \mathcal{l}(c(t), f_{t_0, c_0}(t))}{t_{max} - t_{min}} \\
(\hat{t_0}, \hat{c_0}) &amp; = \underset{t_0, c_0}{\mathrm{argmin}}(\mathcal{L}(t_0, c_0)) \\
\end{aligned}
\]</div>
<div class="admonition info">
<p class="admonition-title">Default loss function <span class="arithmatex">\(\mathcal{l}\)</span></p>
<p>The loss function is <span class="arithmatex">\(l_2\)</span> by default:
$$
\mathcal{l}(c(t), f_{t_0, c_0}(t)) = |c(t) - f_{t_0, c_0}(t)|^2
$$</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Optimal estimates</p>
<p>For complexity purposes, this algorithm has been implemented with a dependency relation between <span class="arithmatex">\(c_0\)</span> and <span class="arithmatex">\(t_0\)</span> derived from the optimal estimates using the <span class="arithmatex">\(l_2\)</span> loss function. For more informations, you can have a look on the <a class="autorefs autorefs-internal" href="reference/models/step_function/algos/loss_minimization/#edsteva.models.step_function.algos.loss_minimization.loss_minimization">source code</a>.</p>
</div>
</div>
<div class="tabbed-block">
<p>In this algorithm, <span class="arithmatex">\(\hat{c_0}\)</span> is directly estimated as the <span class="arithmatex">\(x^{th}\)</span> quantile of the completeness predictor <span class="arithmatex">\(c(t)\)</span>, where <span class="arithmatex">\(x\)</span> is a number between 0 and 1. Then, <span class="arithmatex">\(\hat{t_0}\)</span> is the first time <span class="arithmatex">\(c(t)\)</span> reaches <span class="arithmatex">\(\hat{c_0}\)</span>.</p>
<div class="arithmatex">\[
\begin{aligned}
\hat{c_0} &amp; = x^{th} \text{ quantile of } c(t) \\
\hat{t_0} &amp; = \underset{t}{\mathrm{argmin}}(c(t) \geq \hat{c_0})
\end{aligned}
\]</div>
<div class="admonition info">
<p class="admonition-title">Default quantile <span class="arithmatex">\(x\)</span></p>
<p>The default quantile is <span class="arithmatex">\(x = 0.8\)</span>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.models.step_function</span> <span class="kn">import</span> <span class="n">StepFunction</span>

<span class="n">step_function_model</span> <span class="o">=</span> <span class="n">StepFunction</span><span class="p">()</span>
<span class="n">step_function_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">probe</span><span class="p">)</span>
<span class="n">step_function_model</span><span class="o">.</span><span class="n">estimates</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">care_site_level</th>
<th align="left">care_site_id</th>
<th align="left">stay_type</th>
<th align="left">t_0</th>
<th align="left">c_0</th>
<th align="left">error</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">'Urg'</td>
<td align="left">2019-05-01</td>
<td align="left">0.397</td>
<td align="left">0.040</td>
</tr>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">'All'</td>
<td align="left">2011-04-01</td>
<td align="left">0.583</td>
<td align="left">0.028</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">'Hospit'</td>
<td align="left">2021-03-01</td>
<td align="left">0.677</td>
<td align="left">0.022</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">'All'</td>
<td align="left">2018-08-01</td>
<td align="left">0.764</td>
<td align="left">0.014</td>
</tr>
<tr>
<td align="left">Hpital</td>
<td align="left">8312022130</td>
<td align="left">'Hospit'</td>
<td align="left">2022-02-01</td>
<td align="left">0.652</td>
<td align="left">0.027</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="8:4"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><input id="__tabbed_8_4" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Coefficients</label><label for="__tabbed_8_2">Metrics</label><label for="__tabbed_8_3">Algos</label><label for="__tabbed_8_4">Example</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/models/rectangle_function/rectangle_function/#edsteva.models.rectangle_function.rectangle_function.RectangleFunction"><code>RectangleFunction</code></a> fits a step function <span class="arithmatex">\(f_{t_0, c_0, t_1}(t)\)</span> with coefficients <span class="arithmatex">\(\Theta = (t_0, c_0, t_1)\)</span> on a completeness predictor <span class="arithmatex">\(c(t)\)</span>:</p>
<div class="arithmatex">\[
\begin{aligned}
f_{t_0, c_0, t_1}(t) &amp; = c_0 \ \mathbb{1}_{t_0 \leq t \leq t_1}(t) \\
c(t) &amp; = f_{t_0, c_0, t_1}(t) + \epsilon(t)
\end{aligned}
\]</div>
<ul>
<li>the characteristic time <span class="arithmatex">\(t_0\)</span> estimates the time after which the data is available.</li>
<li>the characteristic time <span class="arithmatex">\(t_1\)</span> estimates the time after which the data is not available anymore.</li>
<li>the characteristic value <span class="arithmatex">\(c_0\)</span> estimates the completeness between <span class="arithmatex">\(t_0\)</span> and <span class="arithmatex">\(t_1\)</span>.</li>
</ul>
</div>
<div class="tabbed-block">
<p>The default metric computed is the mean squared error between <span class="arithmatex">\(t_0\)</span> and <span class="arithmatex">\(t_1\)</span>:</p>
<div class="arithmatex">\[
error = \frac{\sum_{t_0 \leq  t \leq t_1} \epsilon(t)^2}{t_1 - t_0}
\]</div>
<ul>
<li><span class="arithmatex">\(error\)</span> estimates the stability of the data between <span class="arithmatex">\(t_0\)</span> and <span class="arithmatex">\(t_1\)</span>.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Custom metric<p>You can define your own metric if this one doesn't meet your requirements.</p>
</p>
</div>
</div>
<div class="tabbed-block">
<p>The available algorithms used to fit the step function are listed below:</p>
<div class="admonition info">
<p class="admonition-title">Custom algo<p>You can define your own algorithm if they don't meet your requirements.</p>
</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Loss minimization</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This algorithm computes the estimated coefficients <span class="arithmatex">\(\hat{t_0}\)</span>, <span class="arithmatex">\(\hat{c_0}\)</span> and <span class="arithmatex">\(\hat{t_1}\)</span> by minimizing the loss function <span class="arithmatex">\(\mathcal{L}(t_0, c_0, t_1)\)</span>:</p>
<div class="arithmatex">\[
\begin{aligned}
\mathcal{L}(t_0, c_0, t_1) &amp; = \frac{\sum_{t = t_{min}}^{t_{max}} \mathcal{l}(c(t), f_{t_0, c_0, t_1}(t))}{t_{max} - t_{min}} \\
(\hat{t_0}, \hat{t_1}, \hat{c_0}) &amp; = \underset{t_0, c_0, t_1}{\mathrm{argmin}}(\mathcal{L}(t_0, c_0, t_1)) \\
\end{aligned}
\]</div>
<div class="admonition info">
<p class="admonition-title">Default loss function <span class="arithmatex">\(\mathcal{l}\)</span></p>
<p>The loss function is <span class="arithmatex">\(l_2\)</span> by default:
$$
\mathcal{l}(c(t), f_{t_0, c_0, t_1}(t)) = |c(t) - f_{t_0, c_0, t_1}(t)|^2
$$</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Optimal estimates</p>
<p>For complexity purposes, this algorithm has been implemented with a dependency relation between <span class="arithmatex">\(c_0\)</span> and <span class="arithmatex">\(t_0\)</span> derived from the optimal estimates using the <span class="arithmatex">\(l_2\)</span> loss function. For more informations, you can have a look on the <a class="autorefs autorefs-internal" href="reference/models/step_function/algos/loss_minimization/#edsteva.models.step_function.algos.loss_minimization.loss_minimization">source code</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.models.rectangle_function</span> <span class="kn">import</span> <span class="n">RectangleFunction</span>

<span class="n">rectangle_function_model</span> <span class="o">=</span> <span class="n">RectangleFunction</span><span class="p">()</span>
<span class="n">rectangle_function_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">probe</span><span class="p">)</span>
<span class="n">rectangle_function_model</span><span class="o">.</span><span class="n">estimates</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">care_site_level</th>
<th align="left">care_site_id</th>
<th align="left">stay_type</th>
<th align="left">t_0</th>
<th align="left">c_0</th>
<th align="left">t_1</th>
<th align="left">error</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">'Urg'</td>
<td align="left">2019-05-01</td>
<td align="left">0.397</td>
<td align="left">2020-05-01</td>
<td align="left">0.040</td>
</tr>
<tr>
<td align="left">Unit Fonctionnelle (UF)</td>
<td align="left">8312056386</td>
<td align="left">'All'</td>
<td align="left">2011-04-01</td>
<td align="left">0.583</td>
<td align="left">2013-04-01</td>
<td align="left">0.028</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">'Hospit'</td>
<td align="left">2021-03-01</td>
<td align="left">0.677</td>
<td align="left">2022-03-01</td>
<td align="left">0.022</td>
</tr>
<tr>
<td align="left">Ple/DMU</td>
<td align="left">8312027648</td>
<td align="left">'All'</td>
<td align="left">2018-08-01</td>
<td align="left">0.764</td>
<td align="left">2019-08-01</td>
<td align="left">0.014</td>
</tr>
<tr>
<td align="left">Hpital</td>
<td align="left">8312022130</td>
<td align="left">'Hospit'</td>
<td align="left">2022-02-01</td>
<td align="left">0.652</td>
<td align="left">2022-08-01</td>
<td align="left">0.027</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Dashboard</label><label for="__tabbed_10_2">Plot</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The library provides interactive dashboards that let you set any combination of care sites, stay types and other columns if included in the Probe. You can only export a dashboard in HTML format.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">predictor_dashboard()</label><label for="__tabbed_11_2">estimates_dashboard()</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/viz/dashboards/predictor_dashboard/wrapper/#edsteva.viz.dashboards.predictor_dashboard.wrapper"><code>predictor_dashboard()</code></a> returns:</p>
<ul>
<li>On the top, the aggregated variable is the average completeness predictor <span class="arithmatex">\(c(t)\)</span> over time <span class="arithmatex">\(t\)</span> with the prediction <span class="arithmatex">\(\hat{c}(t)\)</span> if the <a class="autorefs autorefs-internal" href="components/model/#model">fitted Model</a> is specified.</li>
<li>On the bottom, the interactive filters are all the columns included in the <a class="autorefs autorefs-internal" href="components/probe/#probe">Probe</a> (such as time, care site, number of visits...etc.).</li>
</ul>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.dashboards</span> <span class="kn">import</span> <span class="n">predictor_dashboard</span>

<span class="n">predictor_dashboard</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">probe</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="n">care_site_level</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
An example is available <a href="assets/charts/interactive_fitted_visit.html">here</a>.</p>
</div>
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/viz/dashboards/estimates_dashboard/#edsteva.viz.dashboards.estimates_dashboard"><code>estimates_dashboard()</code></a> returns a representation of the overall deviation from the <a class="autorefs autorefs-internal" href="components/model/#model">Model</a>:</p>
<ul>
<li>On the top, the aggregated variable is a normalized completeness predictor <span class="arithmatex">\(\frac{c(t)}{c_0}\)</span> over normalized time <span class="arithmatex">\(t - t_0\)</span>.</li>
<li>On the bottom, the interactive filters are all the columns included in the <a class="autorefs autorefs-internal" href="components/probe/#probe">Probe</a> (such as time, care site, number of visits...etc.) with all the <a class="autorefs autorefs-internal" href="components/model/#model-coefficients">Model coefficients</a> and <a class="autorefs autorefs-internal" href="components/model/#metrics">metrics</a> included in the <a class="autorefs autorefs-internal" href="components/model/#model">Model</a>.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.dashboards</span> <span class="kn">import</span> <span class="n">estimates_dashboard</span>

<span class="n">threshold_dashboard</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">probe</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="n">care_site_level</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<!-- <img alt="Image title" src="assets/charts/threshold.gif" /> -->
<p>An example is available <a href="assets/charts/threshold_dashboard.html">here</a>.</p>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>The library provides static plots that you can export in png or svg. As it is less interactive, you may specify the filters in the inputs of the functions.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:3"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">plot_probe()</label><label for="__tabbed_12_2">plot_normalized_probe()</label><label for="__tabbed_12_3">plot_estimates_densities()</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/viz/plots/plot_probe/wrapper/#edsteva.viz.plots.plot_probe.wrapper"><code>plot_probe()</code></a> returns the top plot of the <a class="autorefs autorefs-internal" href="reference/viz/dashboards/predictor_dashboard/wrapper/#edsteva.viz.dashboards.predictor_dashboard.wrapper"><code>predictor_dashboard()</code></a>: the normalized completeness predictor <span class="arithmatex">\(\frac{c(t)}{c_0}\)</span> over normalized time <span class="arithmatex">\(t - t_0\)</span>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.plots</span> <span class="kn">import</span> <span class="n">plot_probe</span>

<span class="n">plot_probe</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">probe</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="n">care_site_level</span><span class="p">,</span>
    <span class="n">stay_type</span><span class="o">=</span><span class="n">stay_type</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><span class="n">plot_path</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p><vegachart style='width: 100%'  class="vegalite">{
"schema-url": "assets/charts/fitted_visit.json"
}</vegachart></p>
</div>
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/viz/plots/normalized_probe/#edsteva.viz.plots.normalized_probe"><code>plot_normalized_probe()</code></a> returns the top plot of the <a class="autorefs autorefs-internal" href="reference/viz/dashboards/estimates_dashboard/#edsteva.viz.dashboards.estimates_dashboard"><code>estimates_dashboard()</code></a>. Consequently, you have to specify the filters in the inputs of the function.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.plots</span> <span class="kn">import</span> <span class="n">plot_normalized_probe</span>

<span class="n">plot_normalized_probe</span><span class="p">(</span>
    <span class="n">probe</span><span class="o">=</span><span class="n">probe</span><span class="p">,</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
    <span class="n">care_site_level</span><span class="o">=</span><span class="n">care_site_level</span><span class="p">,</span>
    <span class="n">stay_type</span><span class="o">=</span><span class="n">stay_type</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><span class="n">plot_path</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<vegachart style='width: 100%'  class="vegalite">{
"schema-url": "assets/charts/normalized_plot.json"
}</vegachart></p>
</div>
<div class="tabbed-block">
<p>The <a class="autorefs autorefs-internal" href="reference/viz/plots/estimates_densities/#edsteva.viz.plots.estimates_densities"><code>plot_estimates_densities()</code></a> returns the density plot and the median of each estimate. It can help you to set the thresholds.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">edsteva.viz.plots</span> <span class="kn">import</span> <span class="n">plot_estimates_densities</span>

<span class="n">plot_estimates_densities</span><span class="p">(</span>
    <span class="n">fitted_model</span><span class="o">=</span><span class="n">step_function_model</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<vegachart style='width: 100%'  class="vegalite">{
"schema-url": "assets/charts/distributions.json"
}</vegachart></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Samuel G Finlayson, Adarsh Subbaswamy, Karandeep Singh, John Bowers, Annabel Kupke, Jonathan Zittrain, Isaac S Kohane, and Suchi Saria. The clinician and dataset shift in artificial intelligence. <em>The New England journal of medicine</em>, 385(3):283, 2021.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
      
        
        <a href="components/loading_data/" class="md-footer__link md-footer__link--next" aria-label="Next: Loading data" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Loading data
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022  Assistance Publique - Hpitaux de Paris
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tracking", "navigation.instant", "navigation.indexes", "navigation.top", "content.code.annotate", "announce.dismiss"], "search": "assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="js/mkdocs-charts-plugin.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
      
        <script src="assets/stylesheets/extra.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="assets/termynal/termynal.js"></script>
      
    
    
  
        <script>
        var mkdocs_chart_plugin = {'data_path': '', 'use_data_path': 'False', 'vega_theme': 'default', 'vega_theme_dark': 'dark', 'vega_renderer': 'svg', 'vega_width': 'container', 'fallback_width': '800', 'path_to_homepage': '../.'}
        </script>
        </body>
</html>